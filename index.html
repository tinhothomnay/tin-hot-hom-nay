<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Trang h·ªçc</title>
<script src="script.js"></script>
<style>
body {
  max-width: 800px;
  margin: 40px auto;
  font-family: Arial;
  line-height: 1.6;
}
img, iframe {
  max-width: 100%;
}
</style>
</head>
<body>
<h1 id="title"></h1>

  <p style="color:gray;font-size:14px">
  üëÅÔ∏è <span id="view-count">0</span> l∆∞·ª£t xem
</p>

<img id="image">
<p id="content"></p>

<div id="video-wrapper"></div>

<script>
fetch("content.json")
  .then(r => r.json())
  .then(data => {
    document.getElementById("title").innerText = data.title;
    document.getElementById("content").innerText = data.content;
    document.getElementById("image").src = data.image;
const videoWrapper = document.getElementById("video-wrapper");
videoWrapper.innerHTML = "";

// n·∫øu kh√¥ng c√≥ video th√¨ b·ªè qua
if (!data.video) return;

// n·∫øu l√† YouTube
if (data.video.includes("youtube.com") || data.video.includes("youtu.be")) {
  let videoId = "";

  if (data.video.includes("embed/")) {
    videoId = data.video.split("embed/")[1].split("?")[0];
  } else if (data.video.includes("v=")) {
    videoId = data.video.split("v=")[1].split("&")[0];
  } else if (data.video.includes("youtu.be/")) {
    videoId = data.video.split("youtu.be/")[1].split("?")[0];
  }

  const iframe = document.createElement("iframe");
  iframe.width = "100%";
  iframe.height = "400";
  iframe.src = "https://www.youtube.com/embed/" + videoId;
  iframe.allowFullscreen = true;

  videoWrapper.appendChild(iframe);
}
// n·∫øu l√† mp4 (file upload ho·∫∑c link ngo√†i)
else {
  const video = document.createElement("video");
  video.width = "100%";
  video.height = 400;
  video.controls = true;
  video.controlsList = "nodownload";
  video.disablePictureInPicture = true;
  video.src = data.video;

  videoWrapper.appendChild(video);
}
}
  });
</script>
</body>
</html>
